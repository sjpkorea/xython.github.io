<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>xython.anydb &mdash; xython  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            xython
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xython.html">xython package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">xython</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">xython.anydb</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for xython.anydb</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">os</span>  <span class="c1"># 내장모듈</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>  <span class="c1"># 내장모듈</span>
<span class="kn">import</span> <span class="nn">pickle</span>  <span class="c1"># 내장모듈</span>

<span class="kn">import</span> <span class="nn">youtil</span>  <span class="c1"># xython 모듈</span>
<span class="kn">import</span> <span class="nn">pcell</span>  <span class="c1"># xython 모듈</span>
<span class="kn">import</span> <span class="nn">basic_data</span>  <span class="c1"># xython 모듈</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sqlitedict</span> <span class="kn">import</span> <span class="n">SqliteDict</span>

<div class="viewcode-block" id="anydb">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb">[docs]</a>
<span class="k">class</span> <span class="nc">anydb</span><span class="p">:</span>
<span class="w">	</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	database를 사용하기 쉽게 만든것</span>
<span class="sd">	table, df의 자료는 [제일 첫컬럼에 컬럼이름을 넣는다]</span>
<span class="sd">	&quot;&quot;&quot;</span>

	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">db_name</span> <span class="o">=</span> <span class="n">db_name</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">util</span> <span class="o">=</span> <span class="n">youtil</span><span class="o">.</span><span class="n">youtil</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">table_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">var_this</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># sqlite db에 연결되는 것</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">common_data</span> <span class="o">=</span> <span class="n">basic_data</span><span class="o">.</span><span class="n">basic_data</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">var_common</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">common_data</span><span class="o">.</span><span class="n">vars</span>  <span class="c1"># 패키지내에서 공통으로 사용되는 변수</span>

		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_name</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_name</span><span class="p">,</span> <span class="n">isolation_level</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

<div class="viewcode-block" id="anydb.append_df1_df2">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.append_df1_df2">[docs]</a>
	<span class="k">def</span> <span class="nf">append_df1_df2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj_1</span><span class="p">,</span> <span class="n">df_obj_2</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		dataframe끝에 dataframe형태의 자료를 추가하는것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_obj_1</span><span class="p">,</span> <span class="n">df_obj_2</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_df_to_dic">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_df_to_dic">[docs]</a>
	<span class="k">def</span> <span class="nf">change_df_to_dic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_df</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;split&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		dic의 형태중에서 여러가지중에 하나를 선택해야 한다</span>

<span class="sd">		입력형태 : data = {&quot;calory&quot;: [123, 456, 789], &quot;기간&quot;: [10, 40, 20]}</span>
<span class="sd">		출력형태 : dataframe</span>
<span class="sd">		dict :    {&#39;제목1&#39;: {&#39;가로제목1&#39;: 1, &#39;가로제목2&#39;: 3}, &#39;제목2&#39;: {&#39;가로제목1&#39;: 2, &#39;가로제목2&#39;: 4}}</span>
<span class="sd">		list :    {&#39;제목1&#39;: [1, 2], &#39;제목2&#39;: [3, 4]}</span>
<span class="sd">		series :  {열 : Series, 열 : Series}</span>
<span class="sd">		split :   {&#39;index&#39;: [&#39;가로제목1&#39;, &#39;가로제목2&#39;], &#39;columns&#39;: [&#39;제목1&#39;, &#39;제목2&#39;], &#39;data&#39;: [[1, 2], [3, 4]]}</span>
<span class="sd">		records : [{&#39;제목1&#39;: 1, &#39;제목2&#39;: 2}, {&#39;제목1&#39;: 3, &#39;제목2&#39;: 4}]</span>
<span class="sd">		index :   {&#39;가로제목1&#39;: {&#39;제목1&#39;: 1, &#39;제목2&#39;: 2}, &#39;가로제목2&#39;: {&#39;제목1&#39;: 3, &#39;제목2&#39;: 4}}</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">checked_style</span> <span class="o">=</span> <span class="n">style</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">style</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;split&quot;</span><span class="p">,</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="s1">&#39;records&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">]:</span>
			<span class="n">checked_style</span> <span class="o">=</span> <span class="s2">&quot;split&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">checked_style</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_df_to_list">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_df_to_list">[docs]</a>
	<span class="k">def</span> <span class="nf">change_df_to_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		df자료를 커럼과 값을 기준으로 나누어서 결과를 리스트로 돌려주는 것이다</span>
<span class="sd">		결과 : [[컬럼리스트], [자료1], [자료2]....]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">col_list</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
		<span class="n">value_list</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_dic_to_list_as_col_value_style">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_dic_to_list_as_col_value_style">[docs]</a>
	<span class="k">def</span> <span class="nf">change_dic_to_list_as_col_value_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dic_data</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		사전의 자료를 sql에 입력이 가능한 형식으로 만드는 것</span>
<span class="sd">		결과 : [[컬럼리스트], [자료1], [자료2]....]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">col_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dic_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
		<span class="n">value_list</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one_col</span> <span class="ow">in</span> <span class="n">col_list</span><span class="p">:</span>
			<span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dic_data</span><span class="p">[</span><span class="n">one_col</span><span class="p">])</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_list</span><span class="p">,</span> <span class="n">value_list</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_insert_data_to_dic">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_insert_data_to_dic">[docs]</a>
	<span class="k">def</span> <span class="nf">change_insert_data_to_dic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_1</span><span class="p">,</span> <span class="n">input_2</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		입력되는 자료를 사전형식으로 만드는 것</span>
<span class="sd">		입력형태 1 : [[&quot;컬럼이름1&quot;,&quot;컬럼이름2&quot;],[[&quot;값1-1&quot;,&quot;값1-2&quot;], [&quot;값2-1&quot;,&quot;값2-2&quot;]]]</span>
<span class="sd">		입력형태 2 : [[[&quot;컬럼이름1&quot;,&quot;값1&quot;],[&quot;컬럼이름2&quot;,&quot;값2&quot;]], [[&quot;컬럼이름1&quot;,&quot;값11&quot;],[&quot;컬럼이름3&quot;,&quot;값22&quot;]]]]</span>
<span class="sd">		입력형태 3 : [&quot;컬럼이름1&quot;,&quot;컬럼이름2&quot;],[[&quot;값1-1&quot;,&quot;값1-2&quot;], [&quot;값2-1&quot;,&quot;값2-2&quot;]]</span>
<span class="sd">		출력형태 : [{&quot;컬럼이름1&quot;:&quot;값1&quot;, &quot;컬럼이름2&quot;: &quot;값2&quot;}, {&quot;컬럼이름3&quot;:&quot;값31&quot;, &quot;컬럼이름2&quot;: &quot;값33&quot;}......]</span>

<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">input_type</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="k">if</span> 	<span class="n">input_2</span> <span class="p">:</span>
			<span class="n">input_type</span> <span class="o">=</span> <span class="mi">3</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
				<span class="n">input_type</span> <span class="o">=</span> <span class="mi">2</span>
			<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">([])</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">([]):</span>
				<span class="n">input_type</span> <span class="o">=</span> <span class="mi">1</span>

			<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
			<span class="k">if</span> <span class="n">input_type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="k">for</span> <span class="n">value_list_1d</span> <span class="ow">in</span> <span class="n">input_1</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
					<span class="n">one_line_dic</span> <span class="o">=</span> <span class="p">{}</span>
					<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
						<span class="n">one_line_dic</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_list_1d</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
					<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_line_dic</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
				<span class="k">for</span> <span class="n">value_list_2d</span> <span class="ow">in</span> <span class="n">input_1</span><span class="p">:</span>
					<span class="n">one_line_dic</span> <span class="o">=</span> <span class="p">{}</span>
					<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">list_1d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">value_list_2d</span><span class="p">):</span>
						<span class="n">one_line_dic</span><span class="p">[</span><span class="n">list_1d</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">list_1d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
					<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_line_dic</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">input_type</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
				<span class="n">one_line_dic</span> <span class="o">=</span> <span class="p">{}</span>
				<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">list_1d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_2</span><span class="p">):</span>
					<span class="n">one_line_dic</span><span class="p">[</span><span class="n">input_1</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">list_1d</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
				<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_line_dic</span><span class="p">)</span>

		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_list_to_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_list_to_df">[docs]</a>
	<span class="k">def</span> <span class="nf">change_list_to_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_list</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">list2d</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		리스트 자료를 dataframe로 만드는것</span>
<span class="sd">		입력형태 : 제목리스트, 2차원 값리스트형</span>
<span class="sd">		출력형태 : dataframe로 바꾼것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">checked_list2d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">change_list1d_to_list2d</span><span class="p">(</span><span class="n">list2d</span><span class="p">)</span>
		<span class="c1"># 컬럼의 이름이 없거나하면 기본적인 이름을 만드는 것이다</span>
		<span class="n">checked_col_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_input_data</span><span class="p">(</span><span class="n">col_list</span><span class="p">,</span> <span class="n">list2d</span><span class="p">)</span>
		<span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">checked_list2d</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">checked_col_list</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_df</span></div>


<div class="viewcode-block" id="anydb.change_sqlite_table_data_to_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_sqlite_table_data_to_df">[docs]</a>
	<span class="k">def</span> <span class="nf">change_sqlite_table_data_to_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		sqlite의 테이블을 df로 변경</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT * From </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_name</span><span class="p">)</span>
		<span class="n">sql_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">cols</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
			<span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sql_result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_df</span></div>


<div class="viewcode-block" id="anydb.change_sqlite_table_data_to_list">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_sqlite_table_data_to_list">[docs]</a>
	<span class="k">def</span> <span class="nf">change_sqlite_table_data_to_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		sqlite의 테이블 자료를 리스트로 변경</span>
<span class="sd">		출력형태 :[2차원리스트(제목), 2차원리스트(값들)]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * From </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_name</span><span class="p">))</span>
		<span class="n">cols</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
			<span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
			<span class="n">temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">one</span><span class="p">))</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">,</span> <span class="n">temp</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.change_table_name_at_current_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_table_name_at_current_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">change_table_name_at_current_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name_old</span><span class="p">,</span> <span class="n">table_name_new</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">change_table_name_in_db_for_sqlite</span><span class="p">(</span><span class="n">table_name_old</span><span class="p">,</span> <span class="n">table_name_new</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.change_table_name_in_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.change_table_name_in_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">change_table_name_in_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name_old</span><span class="p">,</span> <span class="n">table_name_new</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		테이블 이름을 변경</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql_sentence</span> <span class="o">=</span> <span class="s2">&quot;alter table </span><span class="si">%s</span><span class="s2"> rename to </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name_old</span><span class="p">,</span> <span class="n">table_name_new</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_sentence</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.check_col_name">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_col_name">[docs]</a>
	<span class="k">def</span> <span class="nf">check_col_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		컬럼의 이름으로 쓰이는 것에 이상한 글자들이 들어가지 않도록 확인하는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">for</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span> <span class="ow">in</span> <span class="p">[[</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">]]:</span>
			<span class="n">col_name</span> <span class="o">=</span> <span class="n">col_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">col_name</span></div>


<div class="viewcode-block" id="anydb.check_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">check_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		기본적으로 test_db.db를 만든다</span>
<span class="sd">		memory로 쓰면, sqlite3를 메모리에 넣도록 한다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">if</span> <span class="n">db_name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">db_name</span> <span class="o">==</span> <span class="s2">&quot;memory&quot;</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;:memory:&quot;</span><span class="p">)</span>
		<span class="k">elif</span> <span class="n">db_name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">db_name</span> <span class="o">==</span> <span class="s2">&quot;test&quot;</span><span class="p">:</span>  <span class="c1"># 데이터베이스를 넣으면 화일로 만든다</span>
			<span class="n">db_name</span> <span class="o">=</span> <span class="s2">&quot;test_db.db&quot;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_name</span><span class="p">,</span> <span class="n">isolation_level</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_name</span><span class="p">,</span> <span class="n">isolation_level</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span></div>


<div class="viewcode-block" id="anydb.check_db_name_in_folder_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_db_name_in_folder_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">check_db_name_in_folder_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		경로안에 sqlite의 database가 있는지 확인하는 것이다</span>
<span class="sd">		database는 파일의 형태이므로 폴더에서 화일이름들을 확인한다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">db_name_all</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">read_all_filename_in_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">db_name</span> <span class="ow">in</span> <span class="n">db_name_all</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">db_name</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.check_input_data">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_input_data">[docs]</a>
	<span class="k">def</span> <span class="nf">check_input_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_list</span><span class="p">,</span> <span class="n">data_list</span><span class="p">):</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="c1"># 컬럼의 이름이 없거나하면 기본적인 이름을 만드는 것이다</span>
		<span class="k">if</span> <span class="n">col_list</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">col_list</span> <span class="o">==</span> <span class="p">[]:</span>
			<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">)):</span>
				<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;col&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">col_list</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.check_range_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_range_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">check_range_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_value</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		개인적으로 만든 이용형태를 것으로,</span>
<span class="sd">		check로 시작하는 메소드는 자료형태의 변경이나 맞는지를 확인하는 것이다</span>
<span class="sd">		dataframe의 영역을 나타내는 방법을 dataframe에 맞도록 변경하는 것이다</span>
<span class="sd">		x=[&quot;1:2&quot;, &quot;1~2&quot;] ===&gt; 1, 2열</span>
<span class="sd">		x=[&quot;1,2,3,4&quot;] ===&gt; 1,2,3,4열</span>
<span class="sd">		x=[1,2,3,4]  ===&gt; 1,2,3,4열</span>
<span class="sd">		x=&quot;&quot;또는 &quot;all&quot; ===&gt; 전부</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">one</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
		<span class="k">if</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">input_value</span><span class="p">:</span>
			<span class="k">pass</span>
		<span class="k">elif</span> <span class="s2">&quot;~&quot;</span> <span class="ow">in</span> <span class="n">input_value</span><span class="p">:</span>
			<span class="n">one</span> <span class="o">=</span> <span class="n">input_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======&gt; &quot;</span><span class="p">,</span> <span class="n">one</span><span class="p">)</span>
			<span class="n">one</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="n">one</span><span class="o">+</span><span class="s2">&quot;]&quot;</span>
		<span class="k">elif</span> <span class="s2">&quot;all&quot;</span> <span class="ow">in</span> <span class="n">input_value</span><span class="p">:</span>
			<span class="n">one</span> <span class="o">=</span> <span class="n">input_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="n">one</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">one</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>
		<span class="k">elif</span> <span class="s2">&quot;&quot;</span> <span class="ow">in</span> <span class="n">input_value</span><span class="p">:</span>
			<span class="n">one</span> <span class="o">=</span> <span class="n">input_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="n">one</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">one</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>
		<span class="k">return</span> <span class="n">one</span></div>


<div class="viewcode-block" id="anydb.check_x_index_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_x_index_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">check_x_index_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">input_index</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		index가 기본 index인 0부터 시작하는 것이 아닌 어떤 특정한 제목이 들어가 있는경우는</span>
<span class="sd">		숫자로 사용할수가 없다. 그래서 그서을 확인후에 기본 index가 아닌경우는 제목으로 변경해 주는</span>
<span class="sd">		것을 할려고 한다</span>
<span class="sd">		&quot;2~3&quot;  ===&gt;  &#39;인천&#39;:&#39;대구&#39;</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;int&quot;</span>
		<span class="n">index_list</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">index</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]):</span>
				<span class="k">if</span> <span class="n">one</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
					<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_list</span><span class="p">):</span>
				<span class="k">if</span> <span class="n">one</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
					<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

		<span class="n">result</span> <span class="o">=</span> <span class="n">input_index</span>
		<span class="k">if</span> <span class="s2">&quot;:&quot;</span> <span class="o">==</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;all&quot;</span> <span class="o">==</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span> <span class="o">==</span> <span class="n">input_index</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span>
		<span class="k">elif</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;~&quot;</span> <span class="ow">in</span> <span class="n">input_index</span><span class="p">:</span>
			<span class="n">input_index</span> <span class="o">=</span> <span class="n">input_index</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="n">two_data</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">input_index</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
					<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_list</span><span class="p">):</span>
						<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span> <span class="o">+</span> <span class="s2">&quot;&#39;:&quot;</span>
					<span class="k">else</span><span class="p">:</span>
						<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span><span class="o">+</span><span class="s2">&quot;&#39;:&#39;&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="n">result</span> <span class="o">=</span> <span class="n">input_index</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">input_index</span><span class="p">,</span> <span class="s2">&quot; ===&gt; &quot;</span><span class="p">,</span><span class="n">result</span> <span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.check_y_index_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.check_y_index_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">check_y_index_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">input_index</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		index가 기본 index인 0부터 시작하는 것이 아닌 어떤 특정한 제목이 들어가 있는경우는</span>
<span class="sd">		숫자로 사용할수가 없다. 그래서 그서을 확인후에 기본 index가 아닌경우는 제목으로 변경해 주는</span>
<span class="sd">		것을 할려고 한다</span>
<span class="sd">		&quot;2~3&quot;  ===&gt;  &#39;인천&#39;:&#39;대구&#39;</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;int&quot;</span>
		<span class="n">index_list</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">columns</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]):</span>
				<span class="k">if</span> <span class="n">one</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
					<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">index_list</span><span class="p">):</span>
				<span class="k">if</span> <span class="n">one</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
					<span class="n">type_result</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>

		<span class="n">result</span> <span class="o">=</span> <span class="n">input_index</span>
		<span class="k">if</span> <span class="s2">&quot;:&quot;</span> <span class="o">==</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;all&quot;</span> <span class="o">==</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span> <span class="o">==</span> <span class="n">input_index</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span>
		<span class="k">elif</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">input_index</span> <span class="ow">or</span> <span class="s2">&quot;~&quot;</span> <span class="ow">in</span> <span class="n">input_index</span><span class="p">:</span>
			<span class="n">input_index</span> <span class="o">=</span> <span class="n">input_index</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">,</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="n">two_data</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">input_index</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
					<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index_list</span><span class="p">):</span>
						<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span> <span class="o">+</span> <span class="s2">&quot;&#39;:&quot;</span>
					<span class="k">else</span><span class="p">:</span>
						<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span><span class="o">+</span><span class="s2">&quot;&#39;:&#39;&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">index_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">two_data</span><span class="p">[</span><span class="mi">1</span><span class="p">])])</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span>
			<span class="k">except</span><span class="p">:</span>
				<span class="n">result</span> <span class="o">=</span> <span class="n">input_index</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">input_index</span><span class="p">,</span> <span class="s2">&quot; ===&gt; &quot;</span><span class="p">,</span><span class="n">result</span> <span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.connect_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.connect_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">connect_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.delete_empty_yline_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_empty_yline_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_empty_yline_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_df</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		dataframe의 빈열을 삭제</span>
<span class="sd">		제목이 있는 경우에만 해야 문제가 없을것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">nan_value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;NaN&quot;</span><span class="p">)</span>
		<span class="n">input_df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nan_value</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">input_df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">nan_value</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">input_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_df</span></div>


<div class="viewcode-block" id="anydb.delete_empty_yline_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_empty_yline_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_empty_yline_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		테이블의 컬럼중에서 아무런 값도 없는 컬럼을 삭제한다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">col_name_all</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_all_col_name_in_table_for_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span>

		<span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">col_name_all</span><span class="p">:</span>
			<span class="n">sql</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;select COUNT(*) from </span><span class="si">%s</span><span class="s2"> where </span><span class="si">%s</span><span class="s2"> is not null&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">))</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
				<span class="c1"># 입력값이 없으면 0개이고, 그러면 삭제를 하는 것이다</span>
				<span class="n">sql</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ALTER TABLE </span><span class="si">%s</span><span class="s2"> DROP COLUMN </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">))</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.delete_memory_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_memory_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_memory_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		memory db는 connection을 close시키면, db가 삭제된다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>


<div class="viewcode-block" id="anydb.delete_table_in_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_table_in_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_table_in_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		입력형태 : 테이블이름</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;DROP TABLE &quot;</span> <span class="o">+</span> <span class="n">table_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.delete_yline_in_list_db_by_index">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_yline_in_list_db_by_index">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_yline_in_list_db_by_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list_db</span><span class="p">,</span> <span class="n">input_index_list</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		index번호를 기준으로 y라인을 삭제하는것</span>
<span class="sd">		list_db의 형태 : [[y_name-1, y_name_2.....],[[a1, a2, a3...], [b1, b2, b3...], ]]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="c1"># 맨뒤부터 삭제가 되어야 index가 유지 된다</span>
		<span class="n">checked_input_index_list</span> <span class="o">=</span> <span class="n">input_index_list</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

		<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">checked_input_index_list</span><span class="p">:</span>
			<span class="c1"># y열의 제목을 지우는것</span>
			<span class="n">input_list_db</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

			<span class="c1"># 각 항목의 값을 지우는것</span>
			<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">input_list_db</span><span class="p">[</span><span class="mi">1</span><span class="p">])):</span>
				<span class="n">input_list_db</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">num</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_list_db</span></div>


<div class="viewcode-block" id="anydb.delete_yline_in_list_db_by_name">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_yline_in_list_db_by_name">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_yline_in_list_db_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list_db</span><span class="p">,</span> <span class="n">input_name_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;y_name_1, y_name_2&quot;</span><span class="p">]):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		y라인 이름을 기준으로 삭제하는것</span>
<span class="sd">		list_db의 형태 : [[y_name-1, y_name_2.....],[[a1, a2, a3...], [b1, b2, b3...], ]]</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">title_dic</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">input_list_db</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
			<span class="n">title_dic</span><span class="p">[</span><span class="n">input_list_db</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">index</span>

		<span class="n">input_index_list</span> <span class="o">=</span> <span class="p">[]</span>

		<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">input_name_list</span><span class="p">:</span>
			<span class="n">index</span> <span class="o">=</span> <span class="n">title_dic</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
			<span class="n">input_index_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

		<span class="c1"># 맨뒤부터 삭제가 되어야 index가 유지 된다</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_yline_in_list_db_by_index</span><span class="p">(</span><span class="n">input_list_db</span><span class="p">,</span> <span class="n">input_index_list</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.delete_yline_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.delete_yline_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">delete_yline_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_name_list</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		컬럼 삭제</span>
<span class="sd">		입력형태 : [&quot;col_1&quot;,&quot;col_2&quot;,&quot;col_3&quot;]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">col_name_list</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">col_name_list</span><span class="p">:</span>
				<span class="n">sql</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ALTER TABLE </span><span class="si">%s</span><span class="s2"> DROP COLUMN </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">))</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.get_all_y_name_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.get_all_y_name_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">get_all_y_name_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		해당하는 테이의 컬럼구조를 갖고온다</span>
<span class="sd">		입력형태 : 테이블이름</span>
<span class="sd">		출력형태 : 컬럼이름들</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;PRAGMA table_info(&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="n">table_name</span><span class="p">)</span>
		<span class="n">sql_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="p">:</span>
			<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.get_columns_data_from_no1_to_no2_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.get_columns_data_from_no1_to_no2_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">get_columns_data_from_no1_to_no2_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row_count</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		테이블의 자료중 원하는 갯수만 읽어오는 것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">((</span><span class="s2">&quot;select * from </span><span class="si">%s</span><span class="s2"> LIMIT </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">offset</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row_count</span><span class="p">)))</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.get_db_name_all_in_path">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.get_db_name_all_in_path">[docs]</a>
	<span class="k">def</span> <span class="nf">get_db_name_all_in_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;.</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		모든 database의 이름을 갖고온다</span>
<span class="sd">		모든이 붙은것은 맨뒤에 all을 붙인다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
			<span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;.db&quot;</span><span class="p">:</span>
				<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.get_property_for_y_line_all_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.get_property_for_y_line_all_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">get_property_for_y_line_all_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		해당하는 테이블의 컬럼의 모든 구조를 갖고온다</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;PRAGMA table_info(&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="n">table_name</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">temp_2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
			<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_2</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.insert_column_in_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.insert_column_in_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">insert_column_in_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		memory db에 새로운 컬럼을 넣는다</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="c1">#기존의 테이블의 컬럼이름들을 갖고온다</span>
		<span class="n">all_exist_col_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_all_column_in_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">)</span>

		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">col_data_list_s</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
				<span class="n">col_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_col_name</span><span class="p">(</span><span class="n">one_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
				<span class="n">col_type</span> <span class="o">=</span> <span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">col_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_col_name</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span>
				<span class="n">col_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">all_exist_col_name</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;alter table </span><span class="si">%s</span><span class="s2"> add column &#39;</span><span class="si">%s</span><span class="s2">&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">))</span></div>


<div class="viewcode-block" id="anydb.insert_y_title_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.insert_y_title_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">insert_y_title_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">input_data</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		df_obj.rename(columns={0: &#39;TEST&#39;, 1: &#39;ODI&#39;, 2: &#39;T20&#39;}, inplace=True)</span>
<span class="sd">		df = pd.DataFrame(data, columns=list_1d)</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">checked_changed_data</span> <span class="o">=</span> <span class="n">input_data</span>
		<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">({}):</span>
			<span class="c1">#{0: &#39;TEST&#39;, 1: &#39;ODI&#39;, 2: &#39;T20&#39;}</span>
			<span class="n">checked_changed_data</span> <span class="o">=</span> <span class="n">input_data</span>
		<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([])</span>  <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
			<span class="c1">#이자료를 [[&quot;기존&quot;, &quot;바꿀이름&quot;], [&quot;b&quot;, &quot;bb&quot;], [&quot;c&quot;, &quot;cc&quot;]]</span>
			<span class="n">checked_changed_data</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="k">for</span> <span class="n">one</span> <span class="ow">in</span> <span class="n">input_data</span><span class="p">:</span>
				<span class="n">checked_changed_data</span><span class="p">[</span><span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">one</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
		<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([])</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
			<span class="c1">#이자료를 [[&quot;기존1&quot;, &quot;기존2&quot;, &quot;기존3&quot;, &quot;기존3&quot;], [&quot;바꿀이름1&quot;, &quot;바꿀이름2&quot;, &quot;바꿀이름3&quot;, &quot;바꿀이름3&quot;]]</span>
			<span class="n">checked_changed_data</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_data</span><span class="p">):</span>
				<span class="n">checked_changed_data</span><span class="p">[</span><span class="n">input_data</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">([])</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
			<span class="c1">#이자료를 [&quot;바꿀이름1&quot;, &quot;바꿀이름2&quot;, &quot;바꿀이름3&quot;, &quot;바꿀이름3&quot;]</span>
			<span class="n">checked_changed_data</span> <span class="o">=</span> <span class="p">{}</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">one</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_data</span><span class="p">):</span>
				<span class="n">checked_changed_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="n">df_obj</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">checked_changed_data</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">df_obj</span></div>


<div class="viewcode-block" id="anydb.insert_yline_in_list_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.insert_yline_in_list_db">[docs]</a>
	<span class="k">def</span> <span class="nf">insert_yline_in_list_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list_db</span><span class="p">,</span> <span class="n">input_yname</span><span class="p">,</span> <span class="n">input_yline_data</span><span class="p">):</span>
		<span class="n">input_list_db</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_yname</span><span class="p">)</span>
		<span class="n">input_list_db</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_yline_data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_list_db</span></div>


<div class="viewcode-block" id="anydb.insert_yline_in_list_db_by_index">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.insert_yline_in_list_db_by_index">[docs]</a>
	<span class="k">def</span> <span class="nf">insert_yline_in_list_db_by_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list_db</span><span class="p">,</span> <span class="n">input_yname</span><span class="p">,</span> <span class="n">input_yline_data</span><span class="p">,</span> <span class="n">input_index</span><span class="p">):</span>
		<span class="n">input_list_db</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">input_index</span><span class="p">,</span> <span class="n">input_yname</span><span class="p">)</span>
		<span class="n">input_list_db</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">input_index</span><span class="p">,</span> <span class="n">input_yline_data</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_list_db</span></div>


<div class="viewcode-block" id="anydb.insert_yyline_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.insert_yyline_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">insert_yyline_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		새로운 컬럼을 만든다</span>
<span class="sd">		col_data_list_s : [[&quot;이름1&quot;,&quot;int&quot;],[&quot;이름2&quot;,&quot;text&quot;]]</span>
<span class="sd">		[&quot;이름2&quot;,&quot;&quot;] =&gt; [&quot;이름2&quot;,&quot;text&quot;]</span>
<span class="sd">		1차원리스트가 오면, 전부 text로 만든다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">col_data_list_s</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
				<span class="n">col_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_col_name</span><span class="p">(</span><span class="n">one_list</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
				<span class="n">col_type</span> <span class="o">=</span> <span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">col_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_col_name</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span>
				<span class="n">col_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;alter table </span><span class="si">%s</span><span class="s2"> add column &#39;</span><span class="si">%s</span><span class="s2">&#39; &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">))</span></div>


<div class="viewcode-block" id="anydb.is_col_names">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.is_col_names">[docs]</a>
	<span class="k">def</span> <span class="nf">is_col_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">):</span>
		<span class="c1"># anydb것</span>
		<span class="c1"># 입력으로 들어온 1 차원 리스트자료가 컬럼이듬으로 사용되는것인지 아닌지 확인하는것</span>
		<span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="n">result_empty</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">result_date_int</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="k">for</span> <span class="n">one_value</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">one_value</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">one_value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
				<span class="n">result_empty</span> <span class="o">=</span> <span class="n">result_empty</span> <span class="o">+</span> <span class="mi">1</span>
			<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">one_value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
				<span class="n">result_date_int</span> <span class="o">=</span> <span class="n">result_date_int</span> <span class="o">+</span> <span class="mi">1</span>
			<span class="k">if</span> <span class="n">result_empty</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">result_date_int</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
				<span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="anydb.make_cursor_for_sqlite_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.make_cursor_for_sqlite_db">[docs]</a>
	<span class="k">def</span> <span class="nf">make_cursor_for_sqlite_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.make_sql_text_for_dic_data">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.make_sql_text_for_dic_data">[docs]</a>
	<span class="k">def</span> <span class="nf">make_sql_text_for_dic_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">dic_data</span><span class="p">):</span>

		<span class="n">sql_columns</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="n">sql_values</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="k">for</span> <span class="n">one_key</span> <span class="ow">in</span> <span class="n">dic_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">dic_data</span><span class="p">[</span><span class="n">one_key</span><span class="p">]</span>
			<span class="n">sql_columns</span> <span class="o">=</span> <span class="n">sql_columns</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">one_key</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
			<span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
				<span class="n">sql_values</span> <span class="o">=</span> <span class="n">sql_values</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
			<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="mf">123.4</span><span class="p">):</span>
					<span class="n">sql_values</span> <span class="o">=</span> <span class="n">sql_values</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">sql_values</span> <span class="o">=</span> <span class="n">sql_values</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;, &quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;insert into </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">) values (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">sql_columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">sql_values</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.make_sql_text_for_insert_by_col_names">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.make_sql_text_for_insert_by_col_names">[docs]</a>
	<span class="k">def</span> <span class="nf">make_sql_text_for_insert_by_col_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_list</span><span class="p">):</span>
		<span class="n">sql_columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">change_list1d_to_text_with_chainword</span><span class="p">(</span><span class="n">col_list</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">)</span>
		<span class="n">sql_values</span> <span class="o">=</span> <span class="s2">&quot;?,&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">col_list</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;insert into </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">) values (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">sql_columns</span><span class="p">,</span> <span class="n">sql_values</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.manual">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.manual">[docs]</a>
	<span class="k">def</span> <span class="nf">manual</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">		databse가 있는 화일의 위치를 알려주면 시작이 된다</span>
<span class="s2">		pandas의 장점</span>
<span class="s2">		1. 대용량 데이터(GB 단위 이상)를 다룰 수 있습니다. 엑셀은 데이터 용량이 100MB을 넘어가거나, 데이터가 100만 행이 넘어가면 정상적으로 작동하지 않는 현상을 겪기도 합니다.</span>
<span class="s2">		2. 복잡한 처리 작업들을 비교적 손쉽게 할 수 있습니다. 소위 말하는 엑셀 노가다를 할 필요가 없습니다.</span>
<span class="s2">		3. 손쉽게 데이터를 결합하고 분리할 수 있습니다. SQL처럼 데이터를 합치고 관계 연산을 수행할 수 있습니다.</span>

<span class="s2">		df.index, df.columns, df.values</span>
<span class="s2">		df[&quot;col1&quot;], df[1:3]</span>

<span class="s2">		index는 숫자만 가능하지 않고, String(문자열) 일 수도 있다.</span>
<span class="s2">		index가 숫자여도 순서대로 정렬될 필요가 없다. 그리고 index는 중복될 수 있다.</span>
<span class="s2">		print(df.loc[:3, [&#39;Surv&#39;, &#39;N&#39;]])</span>

<span class="s2">		df[val]	Select single column or sequence of columns from the DataFrame</span>
<span class="s2">		df.loc[val]	Selects single row or subset of rows from the DataFrame by label</span>
<span class="s2">		df.loc[:, val]	Selects single column or subset of columns by label</span>
<span class="s2">		df.loc[val1, val2]	Select both rows and columns by label</span>
<span class="s2">		df.iloc[where]	Selects single row or subset of rows from the DataFrame by integer position</span>
<span class="s2">		df.iloc[:, where]	Selects single column or subset of columns by integer position</span>
<span class="s2">		df.iloc[where_i, whe	re_j] Select both rows and columns by integer position</span>
<span class="s2">		df.at[label_i, label	_j] Select a single scalar value by row and column label</span>
<span class="s2">		df.iat[i, j]	Select a single scalar value by row and column position (integers)</span>
<span class="s2">		get_value(), set_val	ue() Select single value by row and column label</span>
<span class="s2">		&quot;&quot;&quot;</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.new_column_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_column_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">new_column_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		insert대신 new를 사용하는것이 더 좋지 않을까해서 만들어 보는 것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">insert_column_in_sqlite_memory_db</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_columns_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_columns_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">new_columns_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">insert_yyline_in_table_for_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_data_list_s</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">new_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		새로운 데이터베이스를 만든다</span>
<span class="sd">		db_name이 이미 있으면 연결되고, 없으면 새로 만듦</span>
<span class="sd">		입력형태 : 이름</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_memory_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_memory_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">new_memory_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		self.cursor.execute(&quot;CREATE TABLE &quot; + self.table_name + &quot; (auto_no integer primary key AUTOINCREMENT)&quot;)</span>
<span class="sd">		memory에 생성하는 것은 바로 connection 이 만들어 진다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="s2">&quot;:memory:&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_table_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_table_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">new_table_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE IF NOT EXISTS &quot;</span> <span class="o">+</span> <span class="n">table_name</span> <span class="o">+</span> <span class="s2">&quot;(number integer)&quot;</span><span class="p">)</span>

		<span class="n">all_table_name</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT name FROM sqlite_master WHERE type=&#39;table&#39; ORDER BY name;&quot;</span><span class="p">)</span>
		<span class="n">sql_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">one</span> <span class="ow">in</span> <span class="n">sql_results</span><span class="p">:</span>
			<span class="n">all_table_name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;모든 테이블 이름 ==&gt; &quot;</span><span class="p">,</span> <span class="n">all_table_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_table_in_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_table_in_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">new_table_in_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		database는 먼저 선택해야 한다</span>
<span class="sd">		새로운 테이블을 만든다</span>
<span class="sd">		입력형태 : 테이블이름</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="c1"># 현재 db안의 테이블에 같은 이름이 없는지 확인 하는 것</span>
		<span class="n">tables</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select name from sqlite_master where type = &#39;table&#39;; &quot;</span><span class="p">)</span>
		<span class="n">all_table_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">table_name</span> <span class="ow">in</span> <span class="n">all_table_name</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE &quot;</span> <span class="o">+</span> <span class="n">table_name</span> <span class="o">+</span> <span class="s2">&quot; (Item text)&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.new_table_with_column_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.new_table_with_column_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">new_table_with_column_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">column_data_list</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		어떤 형태의 자료가 입력이 되어도 테이블을 만드는 sql을 만드는 것이다</span>
<span class="sd">		입력형태 1 : 테이블이름, [[&#39;번호1&#39;,&quot;text&quot;], [&#39;번호2&#39;,&quot;text&quot;],[&#39;번호3&#39;,&quot;text&quot;],[&#39;번호4&#39;,&quot;text&quot;]]</span>
<span class="sd">		입력형태 2 : 테이블이름, [&#39;번호1&#39;,&#39;번호2&#39;,&#39;번호3&#39;,&#39;번호4&#39;]</span>
<span class="sd">		입력형태 3 : 테이블이름, [[&#39;번호1&#39;,&quot;text&quot;], &#39;번호2&#39;,&#39;번호3&#39;,&#39;번호4&#39;]</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="n">sql_1</span> <span class="o">=</span> <span class="s2">&quot;CREATE TABLE IF NOT EXISTS </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_name</span><span class="p">)</span>
		<span class="n">sql_2</span> <span class="o">=</span> <span class="n">sql_1</span> <span class="o">+</span> <span class="s2">&quot; (&quot;</span>
		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">column_data_list</span><span class="p">:</span>
			<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
				<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
					<span class="n">col_name</span> <span class="o">=</span> <span class="n">one_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
					<span class="n">col_type</span> <span class="o">=</span> <span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
				<span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
					<span class="n">col_name</span> <span class="o">=</span> <span class="n">one_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
					<span class="n">col_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
			<span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">one_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">):</span>
				<span class="n">col_name</span> <span class="o">=</span> <span class="n">one_list</span>
				<span class="n">col_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
			<span class="n">sql_2</span> <span class="o">=</span> <span class="n">sql_2</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">, &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">)</span>
		<span class="n">sql_2</span> <span class="o">=</span> <span class="n">sql_2</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_2</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">sql_2</span></div>


<div class="viewcode-block" id="anydb.read_all_col_name_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_col_name_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_col_name_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;PRAGMA table_info(&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="n">table_name</span><span class="p">)</span>
		<span class="n">sql_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="p">:</span>
			<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_all_col_name_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_col_name_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_col_name_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		현재 있는 테이블의 이름에 특수문자들을 지우는 것이다</span>
<span class="sd">		공백을 _로 변경하는것, Column의 이름을 변경한다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="n">all_col_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_all_col_name_in_table_for_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="n">all_col_names</span><span class="p">:</span>
			<span class="n">col_name_new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_col_name</span><span class="p">(</span><span class="n">col_name</span><span class="p">)</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">col_name_new</span> <span class="o">==</span> <span class="n">col_name</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;alter table </span><span class="si">{}</span><span class="s2"> RENAME COLUMN </span><span class="si">{}</span><span class="s2"> to </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_name_new</span><span class="p">))</span></div>


<div class="viewcode-block" id="anydb.read_all_column_in_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_column_in_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_column_in_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		기존의 테이블의 컬럼이름들을 갖고온다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;PRAGMA table_info(&#39;</span><span class="si">%s</span><span class="s2">&#39;)&quot;</span> <span class="o">%</span> <span class="n">table_name</span><span class="p">)</span>
		<span class="n">sql_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="n">all_exist_col_name</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one_list</span> <span class="ow">in</span> <span class="n">sql_result</span><span class="p">:</span>
			<span class="n">all_exist_col_name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_list</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">all_exist_col_name</span></div>


<div class="viewcode-block" id="anydb.read_all_table_data_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_table_data_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_table_data_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		테이블의 모든 자료를 읽어온다</span>
<span class="sd">		입력형태 : 테이블 이름</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">((</span><span class="s2">&quot;select * from </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table_name</span><span class="p">))</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_all_table_name_in_db_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_table_name_in_db_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_table_name_in_db_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		해당하는 테이의 컬럼구조를 갖고온다</span>
<span class="sd">		입력형태 : 데이터베이스 이름</span>
<span class="sd">		출력형태 : 테이블이름들</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT name FROM sqlite_master WHERE type=&#39;table&#39; ORDER BY name;&quot;</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">temp_2</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
			<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_data_by_xy_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_data_by_xy_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">read_data_by_xy_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">x_no</span><span class="p">,</span> <span class="n">y_no</span><span class="p">):</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> where x = </span><span class="si">{</span><span class="n">x_no</span><span class="si">}</span><span class="s2"> and y = </span><span class="si">{</span><span class="n">y_no</span><span class="si">}</span><span class="s2">&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_data_with_col_name_by_xy_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_data_with_col_name_by_xy_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">read_data_with_col_name_by_xy_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">x_no</span><span class="p">,</span> <span class="n">y_no</span><span class="p">):</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> where x = </span><span class="si">{</span><span class="n">x_no</span><span class="si">}</span><span class="s2"> and y = </span><span class="si">{</span><span class="n">y_no</span><span class="si">}</span><span class="s2">&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">description</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">description</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
		<span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">rows</span> <span class="o">==</span> <span class="p">[]:</span>
			<span class="c1">#for name in names:</span>
					<span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
				<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
					<span class="n">result</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
		<span class="c1">#print(&quot;aaaaaaaaaaaaaaaaaaa==&gt; &quot;, names)</span>
		<span class="c1">#print(&quot;aaaaaaaaaaaaaaaaaaa==&gt; &quot;, result)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_data_with_col_name_by_xy_for_sqlite_memory_db_except_none_data">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_data_with_col_name_by_xy_for_sqlite_memory_db_except_none_data">[docs]</a>
	<span class="k">def</span> <span class="nf">read_data_with_col_name_by_xy_for_sqlite_memory_db_except_none_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">x_no</span><span class="p">,</span> <span class="n">y_no</span><span class="p">):</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> where x = </span><span class="si">{</span><span class="n">x_no</span><span class="si">}</span><span class="s2"> and y = </span><span class="si">{</span><span class="n">y_no</span><span class="si">}</span><span class="s2">&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">description</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">description</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
		<span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
				<span class="k">if</span> <span class="n">val</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
					<span class="n">result</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_all_table_data_as_dic_style_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_table_data_as_dic_style_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_table_data_as_dic_style_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">description</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">description</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

		<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">all_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="c1">#print(all_lines)</span>
		<span class="k">for</span> <span class="n">one_line</span> <span class="ow">in</span> <span class="n">all_lines</span><span class="p">:</span>
			<span class="n">temp</span><span class="o">=</span><span class="p">{}</span>
			<span class="c1">#print(one_line)</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">one_line</span><span class="p">):</span>
					<span class="n">temp</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">value</span>
			<span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>



<div class="viewcode-block" id="anydb.read_all_table_data_as_dic_style_for_sqlite_except_none">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_all_table_data_as_dic_style_for_sqlite_except_none">[docs]</a>
	<span class="k">def</span> <span class="nf">read_all_table_data_as_dic_style_for_sqlite_except_none</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;select * from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">description</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">description</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="n">all_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">all_lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">for</span> <span class="n">one_line</span> <span class="ow">in</span> <span class="n">all_lines</span><span class="p">:</span>
			<span class="n">temp</span><span class="o">=</span><span class="p">{}</span>
			<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">one_line</span><span class="p">):</span>
				<span class="k">if</span> <span class="n">value</span><span class="p">:</span>
					<span class="n">temp</span><span class="p">[</span><span class="n">names</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span> <span class="o">=</span> <span class="n">value</span>
			<span class="k">if</span> <span class="n">temp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
				<span class="n">result</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]][</span><span class="n">temp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">temp</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">result</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
				<span class="n">result</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]][</span><span class="n">temp</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">temp</span>
		<span class="c1">#print(result)</span>
		<span class="k">return</span> <span class="n">result</span></div>




<div class="viewcode-block" id="anydb.read_pickle_file">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_pickle_file">[docs]</a>
	<span class="k">def</span> <span class="nf">read_pickle_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_n_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		pickle로 자료를 만든것을 읽어오는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_n_name</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fr</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fr</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_table_data_by_col_names_at_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_table_data_by_col_names_at_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">read_table_data_by_col_names_at_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col_name_s</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		문자는 컬럼이름으로, 숫자는 몇번째인것으로...</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">col_name_s</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
			<span class="n">sql_columns</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">sql_columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">change_list1d_to_text_with_chainword</span><span class="p">(</span><span class="n">col_name_s</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">condition</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
			<span class="n">lim_no</span> <span class="o">=</span> <span class="mi">100</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">lim_no</span> <span class="o">=</span> <span class="n">condition</span>
		<span class="n">limit_text</span> <span class="o">=</span> <span class="s2">&quot;limit </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lim_no</span><span class="p">)</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT </span><span class="si">{}</span><span class="s2"> FROM </span><span class="si">{}</span><span class="s2"> ORDER BY auto_no </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sql_columns</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">limit_text</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_value_by_name_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_value_by_name_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_value_by_name_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		열이나 행의 이름으로 pandas의 dataframe의 일부를 불러오는 것이다</span>
<span class="sd">		이것은 리스트를 기본으로 사용한다</span>
<span class="sd">		list_x=[&quot;가&quot;~&quot;다&quot;] ===&gt; &quot;가&quot;~&quot;다&quot;열</span>
<span class="sd">		list_x=[&quot;가&quot;,&quot;나&quot;,&quot;다&quot;,&quot;4&quot;] ===&gt; 가,나,다, 4 열</span>
<span class="sd">		x=&quot;&quot;또는 &quot;all&quot; ===&gt; 전부</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">temp</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]:</span>
			<span class="k">if</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
				<span class="n">changed_one</span> <span class="o">=</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
			<span class="k">elif</span> <span class="s2">&quot;~&quot;</span> <span class="ow">in</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
				<span class="n">ed_one</span> <span class="o">=</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span>
				<span class="n">changed_one</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ed_one</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ed_one</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>

			<span class="k">elif</span> <span class="s2">&quot;all&quot;</span> <span class="ow">in</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
				<span class="n">changed_one</span> <span class="o">=</span> <span class="n">one</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">changed_one</span> <span class="o">=</span> <span class="n">one</span>
			<span class="n">temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">changed_one</span><span class="p">)</span>
		<span class="c1"># 이것중에 self를 사용하지 않으면 오류가 발생한다</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
		<span class="n">exec</span><span class="p">(</span><span class="s2">&quot;self.result = df_obj.loc[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_value_by_xy_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_value_by_xy_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_value_by_xy_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		위치를 기준으로 값을 읽어오는 것이다</span>
<span class="sd">		숫자를 넣으면 된다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_x_headers_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_x_headers_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_x_headers_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">x_no</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		컬럼의 x의 index를 읽어오는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">index</span>
		<span class="k">if</span> <span class="n">x_no</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">x_no</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_xx_lines_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_xx_lines_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_xx_lines_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		x의 라인들을 읽어온다</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">x_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_x_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
		<span class="n">exec</span><span class="p">(</span><span class="s2">&quot;self.result = df_obj.loc[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">))</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_xxyy_lines_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_xxyy_lines_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_xxyy_lines_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		숫자번호로 pandas의 dataframe의 일부를 불러오는 것</span>
<span class="sd">		단, 모든것을 문자로 넣어주어야 한다</span>
<span class="sd">		x=[&quot;1:2&quot;, &quot;1~2&quot;] ===&gt; 1, 2열</span>
<span class="sd">		x=[&quot;1,2,3,4&quot;] ===&gt; 1,2,3,4열</span>
<span class="sd">		x=[1,2,3,4]  ===&gt; 1,2,3,4열</span>
<span class="sd">		x=&quot;&quot;또는 &quot;all&quot; ===&gt; 전부</span>
<span class="sd">		&quot;&quot;&quot;</span>

		<span class="n">x_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_x_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
		<span class="n">y_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_y_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">)</span>
		<span class="n">exec</span><span class="p">(</span><span class="s2">&quot;self.result = df_obj.loc[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">))</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_value_by_xyxy_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_value_by_xyxy_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_value_by_xyxy_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">xyxy</span><span class="p">):</span>

		<span class="n">x11</span><span class="p">,</span> <span class="n">y11</span><span class="p">,</span> <span class="n">x22</span><span class="p">,</span> <span class="n">y22</span> <span class="o">=</span> <span class="n">xyxy</span>

		<span class="n">x1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">x11</span><span class="p">,</span> <span class="n">x22</span><span class="p">)</span>
		<span class="n">x2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">x11</span><span class="p">,</span> <span class="n">x22</span><span class="p">)</span>
		<span class="n">y1</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">y11</span><span class="p">,</span> <span class="n">y22</span><span class="p">)</span>
		<span class="n">y2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">y11</span><span class="p">,</span> <span class="n">y22</span><span class="p">)</span>

		<span class="n">x</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x2</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s2">&quot;0:0&quot;</span><span class="p">:</span>	<span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span>
		<span class="n">y</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">y1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y2</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="s2">&quot;0:0&quot;</span><span class="p">:</span>	<span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span>

		<span class="n">x_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_x_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
		<span class="n">y_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_y_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
		<span class="nb">print</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">)</span>
		<span class="n">exec</span><span class="p">(</span><span class="s2">&quot;self.result = df_obj.loc[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">))</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_y_headers_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_y_headers_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_y_headers_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">y_no</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		컬럼의 y의 컬럼 제목을 읽어오는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">df_obj</span><span class="o">.</span><span class="n">columns</span>
		<span class="k">if</span> <span class="n">y_no</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
			<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">y_no</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.read_yy_lines_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.read_yy_lines_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">read_yy_lines_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df_obj</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		y의 라인들을 읽어온다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">y_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_y_index_in_df</span><span class="p">(</span><span class="n">df_obj</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
		<span class="n">exec</span><span class="p">(</span><span class="s2">&quot;self.result = df_obj.loc[</span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">y_list</span><span class="p">))</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span></div>


<div class="viewcode-block" id="anydb.run_sql_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.run_sql_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">run_sql_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		sqlite의 sql문을 실행하는 것이다</span>
<span class="sd">		fetchall는</span>
<span class="sd">		첫번째 : (1, &#39;이름1&#39;, 1, &#39;값1&#39;)</span>
<span class="sd">		두번째 : (2, &#39;이름2&#39;, 2, &#39;값2&#39;)</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.run_sql_for_sqlite_memory_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.run_sql_for_sqlite_memory_db">[docs]</a>
	<span class="k">def</span> <span class="nf">run_sql_for_sqlite_memory_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sql</span><span class="p">):</span>
		<span class="c1">#print(sql)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.save_input_object_to_pickle_file">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.save_input_object_to_pickle_file">[docs]</a>
	<span class="k">def</span> <span class="nf">save_input_object_to_pickle_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_object</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;D:</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		자료를 pickle 로 저장하는것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">file_name</span><span class="p">:</span>
			<span class="n">file_name</span> <span class="o">=</span> <span class="n">file_name</span> <span class="o">+</span> <span class="s2">&quot;.pickle&quot;</span>
		<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="n">file_name</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fr</span><span class="p">:</span>
			<span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">input_object</span><span class="p">,</span> <span class="n">fr</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.save_sqlite_memory_db_to_disk_db">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.save_sqlite_memory_db_to_disk_db">[docs]</a>
	<span class="k">def</span> <span class="nf">save_sqlite_memory_db_to_disk_db</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		memory에 저장된것을 화일로 저장하는것</span>
<span class="sd">		python 3.7부터는 backup이 가능</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">db_disk</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="n">db_disk</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.set_database">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.set_database">[docs]</a>
	<span class="k">def</span> <span class="nf">set_database</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.set_database_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.set_database_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">set_database_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.split_path_n_name">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.split_path_n_name">[docs]</a>
	<span class="k">def</span> <span class="nf">split_path_n_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		입력값을 경로와 이름으로 분리</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="n">input_value</span> <span class="o">=</span> <span class="n">input_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
		<span class="n">temp_1</span> <span class="o">=</span> <span class="n">input_value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
		<span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">temp_1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
			<span class="n">file_name</span> <span class="o">=</span> <span class="n">temp_1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
		<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">temp_1</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">temp_1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]:</span>
			<span class="n">path</span> <span class="o">=</span> <span class="n">input_value</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="n">temp_1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span>
		<span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">file_name</span><span class="p">,</span> <span class="n">path</span><span class="p">]</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.terms">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.terms">[docs]</a>
	<span class="k">def</span> <span class="nf">terms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		이 클래스에서 중요하게 사용되는 용어들에 대한 설명입니다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">		df : dataframe</span>
<span class="s2">		con : Connection, 외부환경과 Database를 연결하는 것. 즉 db가 위치한 곳들을 연결하는 것이지요</span>
<span class="s2">		cursor : DB에 어떤 일을 시키면, Db에서 Item이라는 객체가 만들어진다. 그 만들어진곳을 가리키는 객체</span>
<span class="s2">		&quot;&quot;&quot;</span>
		<span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="anydb.write_all_table_data_for_sqlite_to_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_all_table_data_for_sqlite_to_df">[docs]</a>
	<span class="k">def</span> <span class="nf">write_all_table_data_for_sqlite_to_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		sqlite를 df로 만드는것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT * From </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">)</span>
		<span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
		<span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">fetchall</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">input_df</span></div>


<div class="viewcode-block" id="anydb.write_data_in_table_for_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_data_in_table_for_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">write_data_in_table_for_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_name_s</span><span class="p">,</span> <span class="n">col_value_s</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql_columns</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="n">sql_values</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="k">for</span> <span class="n">column_data</span> <span class="ow">in</span> <span class="n">col_name_s</span><span class="p">:</span>
			<span class="n">sql_columns</span> <span class="o">=</span> <span class="n">sql_columns</span> <span class="o">+</span> <span class="n">column_data</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
			<span class="n">sql_values</span> <span class="o">=</span> <span class="s2">&quot;?,&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">col_name_s</span><span class="p">)</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;insert into </span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">) values (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">sql_columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">sql_values</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">col_value_s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">type</span><span class="p">([]):</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">col_value_s</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">col_value_s</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="anydb.write_df_data_to_excel">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_df_data_to_excel">[docs]</a>
	<span class="k">def</span> <span class="nf">write_df_data_to_excel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_df</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		df자료를 커럼과 값을 기준으로 나누어서 결과를 돌려주는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">col_list</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
		<span class="n">value_list</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
		<span class="n">excel</span> <span class="o">=</span> <span class="n">pcell</span><span class="o">.</span><span class="n">pcell</span><span class="p">()</span>
		<span class="n">excel</span><span class="o">.</span><span class="n">write_list1d_in_yline</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">col_list</span><span class="p">)</span>
		<span class="n">excel</span><span class="o">.</span><span class="n">write_value_in_range_as_speedy</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">value_list</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.write_df_data_to_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_df_data_to_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">write_df_data_to_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">df_data</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		df자료를 sqlite에 새로운 테이블로 만들어서 넣는 것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">df_data</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.write_dic_data_to_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_dic_data_to_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">write_dic_data_to_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">dic_data</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		사전의 키를 y이름으로 해서 값을 입력한다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>

		<span class="k">for</span> <span class="n">one_col</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">dic_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">one_col</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_all_col_name_in_table_for_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">db_name</span><span class="p">):</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">insert_yyline_in_table_for_sqlite</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="p">[</span><span class="n">one_col</span><span class="p">],</span> <span class="n">db_name</span><span class="p">)</span>

		<span class="n">sql</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_sql_text_for_insert_by_col_names</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">dic_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
		<span class="n">value_list</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">one_dic</span> <span class="ow">in</span> <span class="n">dic_data</span><span class="p">:</span>
			<span class="n">value_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">one_dic</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">value_list</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.write_list_data_to_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_list_data_to_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">write_list_data_to_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">col_name_s</span><span class="p">,</span> <span class="n">list_values</span><span class="p">,</span> <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		리스트의 형태로 넘어오는것중에 y이름과 값을 분리해서 얻는 것이다</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">check_db_for_sqlite</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
		<span class="n">sql</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_sql_text_for_insert_by_col_names</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">col_name_s</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">list_values</span><span class="p">)</span></div>


<div class="viewcode-block" id="anydb.write_value_in_sqlite">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_value_in_sqlite">[docs]</a>
	<span class="k">def</span> <span class="nf">write_value_in_sqlite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">input_1</span><span class="p">,</span> <span class="n">input_2</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		입력하고싶은 값을 sqlite에 저장하는것</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">list_1d_dic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_insert_data_to_dic</span><span class="p">(</span><span class="n">input_1</span><span class="p">,</span> <span class="n">input_2</span><span class="p">)</span>
		<span class="n">sql_columns</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="n">sql_values</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
		<span class="k">for</span> <span class="n">one_dic</span> <span class="ow">in</span> <span class="n">list_1d_dic</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">one_key</span> <span class="ow">in</span> <span class="n">one_dic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>

				<span class="n">sql_columns</span> <span class="o">=</span> <span class="n">sql_columns</span> <span class="o">+</span> <span class="n">one_key</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
				<span class="n">sql_values</span> <span class="o">=</span> <span class="n">sql_values</span> <span class="o">+</span> <span class="n">one_dic</span><span class="p">[</span><span class="n">one_key</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>
			<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;insert into </span><span class="si">%s</span><span class="s2">(</span><span class="si">%s</span><span class="s2">) values (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">sql_columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">sql_values</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="anydb.write_value_by_xy_in_df">
<a class="viewcode-back" href="../../xython.html#xython.anydb.anydb.write_value_by_xy_in_df">[docs]</a>
	<span class="k">def</span> <span class="nf">write_value_by_xy_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">		</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">		dataframe에 좌표로 값을 저장</span>
<span class="sd">		&quot;&quot;&quot;</span>
		<span class="n">x_max</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">size</span>
		<span class="n">y_max</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">size</span>
		<span class="k">if</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">y_max</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">no</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">y_max</span><span class="p">,</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
				<span class="n">df</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span>
		<span class="k">if</span> <span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x_max</span><span class="p">:</span>
			<span class="n">data_set</span> <span class="o">=</span> <span class="p">[(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">NaN</span><span class="p">)(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))]</span>
			<span class="k">for</span> <span class="n">no</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">x_max</span><span class="p">):</span>
				<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span> <span class="o">=</span> <span class="n">data_set</span>
		<span class="n">df</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">value</span></div>
</div>



<div class="viewcode-block" id="xydb">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb">[docs]</a>
<span class="k">class</span> <span class="nc">xydb</span><span class="p">:</span>

     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">SqliteDict</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<div class="viewcode-block" id="xydb.write_xy">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.write_xy">[docs]</a>
     <span class="k">def</span> <span class="nf">write_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
          <span class="n">x</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
          <span class="n">y</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
               <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
               <span class="n">temp</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">y</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>
          <span class="k">else</span><span class="p">:</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">y</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="xydb.read_xy">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.read_xy">[docs]</a>
     <span class="k">def</span> <span class="nf">read_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
          <span class="n">x</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
          <span class="n">y</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
          <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
               <span class="k">if</span> <span class="n">y</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
          <span class="k">else</span><span class="p">:</span>
               <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="xydb.read_all">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.read_all">[docs]</a>
     <span class="k">def</span> <span class="nf">read_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
               <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">))</span></div>


<div class="viewcode-block" id="xydb.delete_xy">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.delete_xy">[docs]</a>
     <span class="k">def</span> <span class="nf">delete_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
          <span class="n">x</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
          <span class="n">y</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
               <span class="k">if</span> <span class="n">y</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="xydb.delete_y">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.delete_y">[docs]</a>
     <span class="k">def</span> <span class="nf">delete_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
          <span class="n">y</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
               <span class="k">if</span> <span class="n">y</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="xydb.delete_x">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.delete_x">[docs]</a>
     <span class="k">def</span> <span class="nf">delete_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
          <span class="n">x</span><span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
               <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span></div>


<div class="viewcode-block" id="xydb.check_x">
<a class="viewcode-back" href="../../xython.html#xython.anydb.xydb.check_x">[docs]</a>
     <span class="k">def</span> <span class="nf">check_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
          <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span>
          <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
               <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
          <span class="k">return</span> <span class="n">result</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Author.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>